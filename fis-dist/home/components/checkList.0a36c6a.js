define("src/page/home/components/checkList.vue",function(e,t,n){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r="",i=(a(r),e("node_modules/mint-ui/lib/tab-container-item/index")),d=a(i),o="",l=(a(o),e("node_modules/mint-ui/lib/tab-container/index")),s=a(l),c="",u=(a(c),e("node_modules/mint-ui/lib/tab-item/index")),m=a(u),_="",v=(a(_),e("node_modules/mint-ui/lib/navbar/index")),f=a(v),p="",h=(a(p),e("node_modules/mint-ui/lib/field/index")),b=a(h),g="",x=(a(g),e("node_modules/mint-ui/lib/datetime-picker/index")),k=a(x),y=e("node_modules/vue/dist/vue.runtime.common"),D=a(y),w=e("node_modules/json2csv/dist/json2csv.umd"),M=a(w),T=e("src/api/index"),L=a(T);D.default.component(k.default.name,k.default),D.default.component(b.default.name,b.default),D.default.component(f.default.name,f.default),D.default.component(m.default.name,m.default),D.default.component(s.default.name,s.default),D.default.component(d.default.name,d.default);var S=new Date;t.default={data:function(){return{height:{table1:"",table2:""},value:S,date:S,startDate:new Date("2018-04-01"),endDate:new Date(S.getFullYear(),S.getMonth(),S.getDate()+1),list:[],topSelected:"1",latterList:[],latterDate:S}},computed:{dateGMT:function(){return this.$options.filters.timeGMT(this.date)},latterDateGMT:function(){return this.$options.filters.timeGMT(this.latterDate)}},created:function(){this.getList(),this.getLatterList()},filters:{makeCsvDownloadSrc:function(e){return e.length?"data:text/csv;charset=utf-8,﻿"+encodeURIComponent(M.default.parse(e,{encoding:"gb2312"})):"javascript:;"}},methods:{open:function(e){this.$refs[e].open()},handleChange:function(e){this.date=e,this.getList()},latterHandleChange:function(e){this.latterDate=e,this.getLatterList()},getList:function(){var e=this;L.default.order.getOrder({order_time:this.dateGMT,order_by:"order_product"}).then(function(t){var n=(t.data.code,t.data.data);e.list=[],n.map(function(t,n){e.list.push(t),e.list[n].order_price=e.$options.filters.moneyF(t.order_price),e.list[n].order_time=e.$options.filters.timeGMT(t.order_time)}),e.setHeight("table1")})},exportOrder:function(){L.default.order.exportOrder({data:this.list}).then(function(){})},getLatterList:function(){var e=this;L.default.order.getOrder({order_time:this.latterDateGMT}).then(function(t){var n=(t.data.code,t.data.data),a=[],r={};n.forEach(function(t){t.order_product in r?(r[t.order_product].count++,r[t.order_product].remarks.includes(t.order_remark)||r[t.order_product].remarks.push(t.order_remark)):(r[t.order_product]={},r[t.order_product].count=1,r[t.order_product].remarks=[t.order_remark],t.order_price=e.$options.filters.moneyF(t.order_price),t.order_time=e.$options.filters.timeGMT(t.order_time),a.push(t))}),a.forEach(function(e){e.count=r[e.order_product].count,e.order_remark=r[e.order_product].remarks.join(",")}),e.latterList=a,e.setHeight("table2")})},setHeight:function(e){var t=this;this.$nextTick(function(){t.height[e]=Math.max(document.body.scrollHeight,parseInt(window.getComputedStyle(t.$refs[e]).height)+10)})}}},n.exports=t["default"];var C;C=t&&t.__esModule&&t.default?t.default:n.exports,C.render=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-index"},[n("mt-navbar",{model:{value:e.topSelected,callback:function(t){e.topSelected=t},expression:"topSelected"}},[n("mt-tab-item",{attrs:{id:"1"}},[e._v("出单列表")]),e._v(" "),n("mt-tab-item",{attrs:{id:"2"}},[e._v("对账列表")])],1),e._v(" "),n("mt-tab-container",{model:{value:e.topSelected,callback:function(t){e.topSelected=t},expression:"topSelected"}},[n("mt-tab-container-item",{attrs:{id:"1"}},[n("mt-field",{attrs:{disabled:"",label:"时间：",value:e.dateGMT,size:"large",placeholder:"请选择时间"},nativeOn:{click:function(){e.open("picker")}}}),e._v(" "),n("mt-datetime-picker",{ref:"picker",attrs:{type:"date",startDate:e.startDate,endDate:e.endDate,"year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日"},on:{confirm:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),n("a",{attrs:{href:e._f("makeCsvDownloadSrc")(e.list),download:"小姐姐.csv"}},[e._v("导出数据")]),e._v(" "),n("div",{style:{height:e.height.table1+"px"}},[n("table",{ref:"table1"},[n("thead",[n("tr",[n("th",[e._v("id")]),e._v(" "),n("th",[e._v("菜品名称")]),e._v(" "),n("th",[e._v("订餐人")]),e._v(" "),n("th",[e._v("单价(元)")]),e._v(" "),n("th",[e._v("下单日期")])])]),e._v(" "),n("tbody",e._l(e.list,function(t){return n("tr",[n("td",[e._v(e._s(t._id))]),e._v(" "),n("td",[e._v(e._s(t.order_product))]),e._v(" "),n("td",[e._v(e._s(t.order_remark))]),e._v(" "),n("td",[e._v(e._s(t.order_price))]),e._v(" "),n("td",[e._v(e._s(t.order_time))])])}))])])],1),e._v(" "),n("mt-tab-container-item",{attrs:{id:"2"}},[n("mt-field",{attrs:{disabled:"",label:"时间：",value:e.latterDateGMT,size:"large",placeholder:"请选择时间"},nativeOn:{click:function(){e.open("picker1")}}}),e._v(" "),n("mt-datetime-picker",{ref:"picker1",attrs:{type:"date",startDate:e.startDate,endDate:e.endDate,"year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日"},on:{confirm:e.latterHandleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),n("a",{attrs:{href:e._f("makeCsvDownloadSrc")(e.latterList)}},[e._v("导出数据")]),e._v(" "),n("div",{style:{height:e.height.table2+"px"}},[n("table",{ref:"table2"},[n("thead",[n("tr",[n("th",[e._v("菜品名称")]),e._v(" "),n("th",[e._v("单价(元)")]),e._v(" "),n("th",[e._v("数量(份)")]),e._v(" "),n("th",[e._v("总价(元)")]),e._v(" "),n("th",[e._v("订餐人")]),e._v(" "),n("th",[e._v("下单日期")])])]),e._v(" "),n("tbody",e._l(e.latterList,function(t){return n("tr",[n("td",[e._v(e._s(t.order_product))]),e._v(" "),n("td",[e._v(e._s(t.order_price))]),e._v(" "),n("td",[e._v(e._s(t.count))]),e._v(" "),n("td",[e._v(e._s(t.order_price*t.count))]),e._v(" "),n("td",[e._v(e._s(t.order_remark))]),e._v(" "),n("td",[e._v(e._s(e._f("timeGMT")(t.order_time)))])])}))])])],1)],1)],1)},C.staticRenderFns=[],function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)}("/* variables */\n/* mixin */\n.dt,\n.dt-wrap {\n  display: table;\n}\n.dt-wrap .dtc,\n.dtc {\n  display: table-cell;\n  vertical-align: middle;\n  text-align: center;\n}\na,\nabbr,\naudio,\nb,\nbody,\ncenter,\ndd,\ndiv,\ndl,\ndt,\nem,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhtml,\ni,\ninput,\nlabel,\nli,\nol,\np,\nsection,\nspan,\nsummary,\nu,\nul,\nvideo {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-weight: normal;\n}\na {\n  color: #333;\n  -webkit-backface-visibility: hidden;\n  text-decoration: none;\n}\nli {\n  list-style: none;\n}\nhtml {\n  font-size: 100%;\n  font-size: 10px;\n}\nbody {\n  font-family: PingFangSC-Regular, sans-serif;\n  font-size: 14px;\n  color: #333333;\n  -webkit-text-size-adjust: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.sd-container {\n  margin: auto;\n  max-width: 1200px;\n}\n.sd-container::after {\n  display: table;\n  content: '';\n  clear: both;\n}\n@media screen and (max-width: 1300px) {\n  .sd-container {\n    margin-left: 2.5%;\n    margin-right: 2.5%;\n  }\n}\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.2s ease;\n}\n.fade-enter,\n.fade-leave-active {\n  opacity: 0;\n}\n.list-enter-active,\n.list-leave-active {\n  transition: all 1s;\n}\n.list-enter,\n.list-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n.user-index {\n  padding: 10px;\n}\n.user-index .mint-tab-container {\n  width: 100%;\n}\n.user-index .mint-tab-item-label {\n  font-size: 16px;\n  margin-right: 10px;\n}\n.user-index .title {\n  font-weight: 300;\n  font-size: 24px;\n  margin-bottom: 20px;\n}\n.user-index table {\n  width: 100%;\n  text-align: center;\n  border-collapse: collapse;\n}\n.user-index table td,\n.user-index table th {\n  border: 1px solid black;\n}\n")});